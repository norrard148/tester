var toggle = true;
$(".purpose-is").each(function(element) {
    var  subject =  $(this).parent().parent().parent().parent()
    var subject_target = subject.find(".card-body-2")
    var testernumber=0;
    if ($(this).val() == '') {
        alertify.alert()
        .setting({
            'frameless':false,
            'title':"목표 작성 오류",
            'closableByDimmer':true,
            'closable': false,
            modal: false,
            transition:'pulse',
            'pinnable': false,
            message: '목표는 필수 입력 사항입니다.',
            'label':'Ok'
        }).show();
        toggle = false; 
    }
    else if (Number(subject.find(".minute option:selected").val()) + Number(subject.find(".second option:selected").val()) == 0) {
        alertify.alert()
        .setting({
            'frameless':false,
            'title':"예상 시간 선택 오류",
            'closableByDimmer':true,
            'closable': false,
            modal: false,
            transition:'pulse',
            'pinnable': false,
            message: '예상 시간은 필수 선택 사항입니다.',
            'label':'Ok'
        }).show();
        toggle = false; 
        
    }
    else {
        subject_target.each(function(i,e) {
            testernumber += Number($(this).find(".testernumber option:selected").val());
         
            if  ($(this).find(".target").val() == '') {
                alertify.alert()
                .setting({
                    'frameless':false,
                    'title':"타겟명 작성 오류",
                    'closableByDimmer':true,
                    'closable': false,
                    modal: false,
                    transition:'pulse',
                    'pinnable': false,
                    message: '타겟명은 필수 작성 사항입니다.',
                    'label':'Ok'
                }).show();
                toggle = false; 
            }
            else  {
                console.log(testernumber)
                if (testernumber > 5 ) {
                    alertify.alert()
                    .setting({
                    'frameless':false,
                    'title': "테스터수 선택 오류",
                    'closableByDimmer':true,
                    'closable': false,
                    modal: false,
                    transition:'pulse',
                    'pinnable': false,
                    message: '테스터수는 목표당 최대 5명입니다.',
                    'label':'Ok'
                    }).show();
                    toggle = false; 
                }
            }  
        })
        if  (testernumber == 0 ) {
            console.log(testernumber)
           
                alertify.alert()
                .setting({
                'frameless':false,
                'title': "테스터수 선택 오류",
                'closableByDimmer':true,
                'closable': false,
                modal: false,
                transition:'pulse',
                'pinnable': false,
                message: '테스터수는 필수 선택 사항입니다.',
                'label':'Ok'
                }).show();
                toggle = false; 
            
        } 
                   
    }
});
if (toggle == true) {
    document.getElementById("second-form").submit();
}




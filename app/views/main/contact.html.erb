


<div class="index-top works" >
    <%= image_tag("dummy1.jpg", class:"index-top-bg")%>
    <%=image_tag("W_img_title_contact.svg", {:class=>"index-top-img"})%>
    <h1 class="pc">“고객 관점에서 생각하기, 많이 어려우셨죠?”</h1>
    <h1 class="mobile">“고객 관점에서 생각하기,<br> 많이 어려우셨죠?”</h1>
    <h2>이제는 생략하지 마세요. 잠시 미뤄두었던, 잊고 있었던 고객 중심의 가치를 찾아드립니다.<Br>
    UX,UI 컨설팅과 온라인 서비스의 기획, 디자인을 맡겨주세요.</h2>
</div>


<div class="submit" style="display:none;">
    <div class="submit-box">
         <%=image_tag("submit.svg")%>
        <h1>제출이 완료되었습니다.</h1>
        <h2>담당 매니저가 접수 내용을 확인한 후,<br>
        별 다른 이상이 없을 시 테스트 진행을 도와드릴거예요.<br>
        테스트 기간은 5~6일 정도 소요됩니다. </h2>
        <button>확인</button>
    </div>
</div>
<form class="redirect" type="hidden" action="/contact" method="get">
</form>

<div class="testing-third-loading">
    <%=image_tag("preloader.svg")%>
</div>

<div class="contact-middle">
    <h1>더 테스터는</h1>
    <h2 class="pc text-center">여러분이 UX/UI 전문가, 기획자, 디자이너를 채용한 것과 같은 경험을 제공해드립니다.<br>
    컨설팅, 프로젝트, 서비스에 대한 자문 등 자유롭게 문의해주세요.</h2>
    <h2 class="mobile text-center">여러분이 UX/UI 전문가, 기획자, 디자이너를<br>채용한 것과 같은 경험을 제공해드립니다.<br>컨설팅, 프로젝트, 서비스에 대한 자문 등 자유롭게<br>문의해주세요.</h2>
    <form  method="post" action="/contactsubmit" class="contact-middle-box" onsubmit="myFunction()">
        <div class="contact-middle-box-content1" >
            <div class="contact-input-box">
                <label>회사명/직책 *</label>
                <input id="brandname" name="brandname" class="contact-input" type="text" placeholder="회사명과 직책을 입력해주세요.">
            </div>
            <div class="contact-input-box">
                <label>이름 *</label>
                <input id="name" name="name" class="contact-input" type="text" placeholder="이름을 입력해주세요.">                      
            </div>
        </div>
        <div class="contact-middle-box-content1">
            <div class="contact-input-box">
                <label>연락처 *</label>
                <input id="phonenumber" name="phonenumber" class="contact-input" type="text" placeholder="연락처를 입력해주세요.">
            </div>
            <div class="contact-input-box">
                <label>이메일 *</label>
                <input id="email" name="email" class="contact-input" type="text" placeholder="이메일을 입력해주세요.">
            </div>
        </div>
        <div class="contact-middle-box-content2">
                <label>컨설팅, 제휴 문의 등 *</label>
                <textarea class="contact-textarea" id="question" name="question" placeholder="내용을 입력해주세요."></textarea>
        </div>
    </form>
    <button class="contact-button">의뢰하기</button>
</div>

<div class="contact-bottom">
        <div class="d-flex flex-column justify-content-between contact-bottom-left">
            <div class=" mb-4" ><%= image_tag("W_img_contact_logo.svg", style:"width: 167px;margin-bottom: 30px") %></div>
            <div>
                <p>서울특별시 서초구 태봉로 114<br>양재 R&CD 혁신허브 5F&nbsp;&nbsp;&nbsp;&nbsp;
                <%= image_tag('Untitled-1_W_btn_map_arrow.svg', class:"btn1", style:"width: 20px;") %></p>
            </div>
            <div>
                <p>서울특별시 성북구 안암로 145<br>경영본관 2층 222호&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <%= image_tag('Untitled-1_W_btn_map_arrow.svg', class:"btn2", style:"width: 20px;") %></p>
            </div>
            <div class="pc mt-3 mb-2"><h2>SAY HI :)</h2></div>
            <div class="pc">
                <p>강지수
                 <br>1018wltn@gmail.com
                 <br>010-2028-0930</p>
            </div>
            <div class="pc">
                <p>김아람
                <br>ammmmy40@gmail.com
                <br>010-4447-7368</p>
            </div>
        </div>
        <div id="map2" class="map mobile-map"></div>
        <div id="map" class="map hide mobile-map"></div>
        <div class=" mobile mt-3 mb-2"><h2>SAY HI :)</h2></div>
        <div class="mobile">
            <p>강지수
            <br>1018wltn@gmail.com
            <br>010-2028-0930</p>
        </div>
        <div class="mobile">
            <p>김아람
            <br>ammmmy40@gmail.com
            <br>010-4447-7368</p>
        </div>
</div>

    

<script>
    $(".navbar-nav a:nth-child(3)").addClass("color");

    $(".btn1").click((event) => {
        $("#map").addClass("hide")
        $("#map2").removeClass("hide")
    });
    $(".btn2").click((event) => {
        $("#map2").addClass("hide")
        $("#map").removeClass("hide")
    });
    function myFunction() {
    $(".testing-third-loading").css({"display":"flex"});
    };
    $(document).on('click', '.submit button', function(){  
        $(".redirect").submit();
    })
    
</script>
<script>
      var map = new naver.maps.Map('map');
      var myaddress = '안암로 145';// 도로명 주소나 지번 주소만 가능 (건물명 불가!!!!)
      naver.maps.Service.geocode({address: myaddress}, function(status, response) {
          if (status !== naver.maps.Service.Status.OK) {
              return alert(myaddress + '의 검색 결과가 없거나 기타 네트워크 에러');
          }
          var result = response.result;
          // 검색 결과 갯수: result.total
          // 첫번째 결과 결과 주소: result.items[0].address
          // 첫번째 검색 결과 좌표: result.items[0].point.y, result.items[0].point.x
          var myaddr = new naver.maps.Point(result.items[0].point.x, result.items[0].point.y);
          map.setCenter(myaddr); // 검색된 좌표로 지도 이동
          // 마커 표시
          var marker = new naver.maps.Marker({
            position: myaddr,
            map: map
          });
          // 마커 클릭 이벤트 처리
          naver.maps.Event.addListener(marker, "click", function(e) {
            if (infowindow.getMap()) {
                infowindow.close();
            } else {
                infowindow.open(map, marker);
            }
          });
      });
</script>
<script>
    var submitted = false;
      var map2 = new naver.maps.Map('map2');
      var myaddress2 = '태봉로 114';// 도로명 주소나 지번 주소만 가능 (건물명 불가!!!!)
      naver.maps.Service.geocode({address: myaddress2}, function(status, response) {
          if (status !== naver.maps.Service.Status.OK) {
              return alert(myaddress2 + '의 검색 결과가 없거나 기타 네트워크 에러');
          }
          var result2 = response.result;
          // 검색 결과 갯수: result.total
          // 첫번째 결과 결과 주소: result.items[0].address
          // 첫번째 검색 결과 좌표: result.items[0].point.y, result.items[0].point.x
          var myaddr2 = new naver.maps.Point(result2.items[0].point.x, result2.items[0].point.y);
          map2.setCenter(myaddr2); // 검색된 좌표로 지도 이동
          // 마커 표시
          var marker2 = new naver.maps.Marker({
            position: myaddr2,
            map: map2
          });
          // 마커 클릭 이벤트 처리
          naver.maps.Event.addListener(marker2, "click", function(e) {
            if (infowindow.getMap()) {
                infowindow.close();
            } else {
                infowindow.open(map2, marker2);
            }
          });
      });
      $(".contact-button").click(function() {
        if ($("#brandname").val() == '') {
            alertify.alert()
            .setting({
                'frameless':false,
                'title':"회사명 작성 오류",
                'closableByDimmer':true,
                'closable': false,
                modal: false,
                transition:'pulse',
                'pinnable': false,
                message: '회사명은 필수 작성 사항입니다.',
                'label':'Ok'
            }).show();
            toggle = false; 
        }
        else if ($("#name").val() == 0) {
            alertify.alert()
            .setting({
                'frameless':false,
                'title':"연락처 작성 오류",
                'closableByDimmer':true,
                'closable': false,
                modal: false,
                transition:'pulse',
                'pinnable': false,
                message: '이름은 필수 작성 사항입니다.',
                'label':'Ok'
            }).show();
            toggle = false; 
            
        }
        else if ($("#phonenumber").val() == '') {
            
                    alertify.alert()
                    .setting({
                        'frameless':false,
                        'title':"연락처 작성 오류",
                        'closableByDimmer':true,
                        'closable': false,
                        modal: false,
                        transition:'pulse',
                        'pinnable': false,
                        message: '연락처는 필수 작성 사항입니다.',
                        'label':'Ok'
                    }).show();
                    toggle = false; 
        }
        else if ($("#email").val() == '') {
            
                    alertify.alert()
                    .setting({
                        'frameless':false,
                        'title':"이메일 작성 오류",
                        'closableByDimmer':true,
                        'closable': false,
                        modal: false,
                        transition:'pulse',
                        'pinnable': false,
                        message: '이메일은 필수 작성 사항입니다.',
                        'label':'Ok'
                    }).show();
                    toggle = false; 
        }
        else if ($("#question").val() == '') {
            
                    alertify.alert()
                    .setting({
                        'frameless':false,
                        'title':"컨설팅 제휴 문의 작성 오류",
                        'closableByDimmer':true,
                        'closable': false,
                        modal: false,
                        transition:'pulse',
                        'pinnable': false,
                        message: '컨설팅 제휴 문의는 필수 작성 사항입니다.',
                        'label':'Ok'
                    }).show();
                    toggle = false; 
        }   
        else {
           if (submitted== false) {
                var authe = true;
                if (authe) {
                    $.ajax({
                        url: "/contactsubmit",
                        type: 'POST',
                        data: $("form").serialize(),
                        beforeSend: function(e) {
                            authe = false;
                            $(".testing-third-loading").css({"display":"flex"});
                        },
                        error : function(error) {
                            $(".testing-third-loading").css({"display":"none"});
                            authe = false;
                            
                        },
                        success : function(data) {
                            $(".testing-third-loading").css({"display":"none"});
                            $(".submit").css({"display":"block"});
                            submitted = true;
                        },
                        fail: function() {
                            authe = false;
                            $(".testing-third-loading").css({"display":"none"});
                            
                        },
                        complete : function() {  
                        }
                    })        
                }
            }
        } 
      
    });
</script>
